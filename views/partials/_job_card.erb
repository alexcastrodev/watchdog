<div class="col-lg-6 col-xl-4">
    <div class="card border-secondary h-100">
        <div class="card-body">
            <!-- File Header -->
            <div class="d-flex justify-content-between align-items-start mb-3">
                <h6 class="card-title mb-0 text-truncate-custom text-light" title="<%= job_file[:name] %>.yml">
                    <i class="bi bi-file-earmark-code text-danger me-2"></i>
                    <%= job_file[:name] %>.yml
                </h6>
                <span class="badge bg-danger">
                    <%= (job_file[:size] / 1024.0).round(1) %> KB
                </span>
            </div>
            
            <!-- File Info -->
            <div class="mb-3">
                <small class="text-muted">
                    <i class="bi bi-clock"></i>
                    Last modified: <%= job_file[:last_modified].strftime('%Y-%m-%d %H:%M') %>
                </small>
            </div>
            
            <!-- Content Preview -->
            <% if job_file[:content] && !job_file[:content].empty? %>
                <div class="mb-3">
                    <small class="text-muted d-block mb-2">
                        <i class="bi bi-eye"></i> Preview:
                    </small>
                    <div class="p-2 rounded" style="font-size: 0.8rem; max-height: 100px; overflow-y: auto;">
                        <% job_file[:content].first(3).each do |key, value| %>
                            <div class="d-flex justify-content-between mb-1">
                                <span class="property-key flex-shrink-0"><%= key %>:</span>
                                <span class="property-value text-truncate ms-2 path-text" style="max-width: 60%;" title="<%= value %>">
                                    <%= value.is_a?(Hash) || value.is_a?(Array) ? "#{value.class.name.downcase}" : value %>
                                </span>
                            </div>
                        <% end %>
                        <% if job_file[:content].size > 3 %>
                            <small class="text-muted">... and <%= job_file[:content].size - 3 %> more</small>
                        <% end %>
                    </div>
                </div>
            <% end %>
            
            <!-- Actions -->
            <div class="d-flex gap-2">
                <a href="/yaml/jobs/<%= job_file[:name] %>" class="btn btn-outline-danger btn-sm">
                    <i class="bi bi-eye me-1"></i>View Details
                </a>
                <a href="/job/<%= job_file[:name] %>" class="btn btn-outline-success btn-sm">
                    <i class="bi bi-play-circle me-1"></i>Monitor
                </a>
                <a href="<%= job_file[:file_path] %>" class="btn btn-outline-light btn-sm" download>
                    <i class="bi bi-download"></i>
                </a>
            </div>
        </div>
    </div>
</div>